<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="jquery-3.1.1.min.js"></script>
</head>
<body>
<h1>注册页</h1>
用户名：<input type="text" id="userName"/><span id="tip"></span>
密码：<input type="password" id="password" />
<input type="button" value="注册"  id="login"/>
<hr>
已有账号，请 <a href="/login">登录</a>

<script>



    $("#login").on("click",function(){
        var data = {
            userName: $("#userName").val(),
            password: $("#password").val()
        }
        $.ajax({
            url:"/api/reg",
            data:data,
            method:"post",
            success: function(data){
                if( data.status === 0 ){  //注册成功
                    window.location.href = "/login";
                }else{
                    $("#tip").text("用户已经存在");
                }
            },
            error:function(){

            }
        })
    });

</script>

</body>
</html>